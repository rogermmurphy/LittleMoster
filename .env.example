# Little Monster (LM) GPA Study Platform - Environment Variables Template
# Copy this file to .env and fill in your actual values
# DO NOT commit .env file to Git - it contains sensitive information

# =============================================================================
# PROJECT CONFIGURATION
# =============================================================================
NODE_ENV=development
PROJECT_NAME=lm-gpa-platform
API_PORT=3000
API_HOST=localhost

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================
# Get these from: https://supabase.com → Your Project → Settings → API
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Direct database connection
# Get from: Supabase → Settings → Database → Connection String
DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.your-project-id.supabase.co:5432/postgres

# =============================================================================
# LOCAL DEVELOPMENT DATABASE (Docker)
# =============================================================================
LOCAL_DB_HOST=localhost
LOCAL_DB_PORT=5432
LOCAL_DB_NAME=lm_dev
LOCAL_DB_USER=postgres
LOCAL_DB_PASSWORD=postgres
LOCAL_DB_URL=postgresql://postgres:postgres@localhost:5432/lm_dev

# =============================================================================
# REDIS CONFIGURATION (Caching & Sessions)
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://localhost:6379

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-256-bit-secret-key-here-generate-random
JWT_REFRESH_SECRET=your-256-bit-refresh-secret-key-here-generate-random
JWT_EXPIRATION=15m
JWT_REFRESH_EXPIRATION=7d

# =============================================================================
# AI MODEL CONFIGURATION (Self-Hosted LLM)
# =============================================================================
# Model selection: llama2-7b, llama2-13b, mistral-7b
AI_MODEL_NAME=llama2-7b
AI_MODEL_PATH=/path/to/models
AI_API_URL=http://localhost:8000
AI_API_KEY=your-local-llm-api-key

# Model inference settings
AI_MAX_TOKENS=2048
AI_TEMPERATURE=0.7
AI_TOP_P=0.9

# Content generation settings
VIDEO_SCRIPT_MAX_LENGTH=2048
VIDEO_DURATION_TARGET=120

# =============================================================================
# CONTENT MODERATION
# =============================================================================
MODERATION_ENABLED=true
MODERATION_CONFIDENCE_THRESHOLD=0.85
PROFANITY_FILTER_ENABLED=true

# =============================================================================
# FILE STORAGE
# =============================================================================
# Supabase Storage bucket names
STORAGE_BUCKET_VIDEOS=videos
STORAGE_BUCKET_THUMBNAILS=thumbnails
STORAGE_BUCKET_AUDIO=audio

# Local storage (development)
LOCAL_STORAGE_PATH=./storage
MAX_FILE_SIZE_MB=100

# =============================================================================
# EMAIL SERVICE (For notifications and verification)
# =============================================================================
# Using Supabase Auth email by default
# Or configure SMTP for custom email
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
EMAIL_FROM=noreply@littlemonster.com

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_VIDEO_GENERATION_DAILY=5
RATE_LIMIT_COMMENTS_PER_HOUR=20

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ORIGIN=http://localhost:5173,http://localhost:3000
CORS_CREDENTIALS=true

# =============================================================================
# LOGGING & MONITORING
# =============================================================================
LOG_LEVEL=debug
LOG_FORMAT=json
LOG_FILE_PATH=./logs/app.log

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090

# =============================================================================
# SECURITY
# =============================================================================
# Session configuration
SESSION_SECRET=your-session-secret-here-generate-random
SESSION_TIMEOUT=3600000

# Password policy
MIN_PASSWORD_LENGTH=8
REQUIRE_SPECIAL_CHARS=true
REQUIRE_NUMBERS=true

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_VIDEO_GENERATION=true
ENABLE_AUDIO_TRANSCRIPTION=true
ENABLE_REALTIME_COLLABORATION=true
ENABLE_OFFLINE_MODE=true

# =============================================================================
# EXTERNAL APIS (Optional)
# =============================================================================
# Only if not using fully self-hosted solution
OPENAI_API_KEY=
ANTHROPIC_API_KEY=

# =============================================================================
# ANALYTICS (Optional)
# =============================================================================
GOOGLE_ANALYTICS_ID=
MIXPANEL_TOKEN=

# =============================================================================
# DEVELOPMENT TOOLS
# =============================================================================
ENABLE_DEBUG_MODE=true
ENABLE_HOT_RELOAD=true
SKIP_PREFLIGHT_CHECK=true
