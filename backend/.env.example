# Little Monster GPA Backend - Environment Configuration Template
# Copy this file to .env and fill in your actual values

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
NODE_ENV=development
PORT=3000
HOST=localhost
API_VERSION=v1

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================
# Get these from: Supabase Dashboard → Settings → API
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Database connection string
DATABASE_URL=postgresql://postgres:[PASSWORD]@db.your-project-id.supabase.co:5432/postgres

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
JWT_SECRET=your-super-secret-jwt-key-min-32-chars
JWT_REFRESH_SECRET=your-super-secret-refresh-key-min-32-chars
JWT_EXPIRATION=15m
JWT_REFRESH_EXPIRATION=7d

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://localhost:6379

# =============================================================================
# LOCAL AI CONFIGURATION (NO API KEYS REQUIRED!)
# =============================================================================
# Ollama - Local LLM for chat (GPT-OSS)
OLLAMA_URL=http://localhost:11434

# Local Whisper - Audio transcription service
WHISPER_SERVICE_URL=http://localhost:8002

# Local Embeddings - sentence-transformers service
EMBEDDING_SERVICE_URL=http://localhost:8001

# Model settings
AI_MAX_TOKENS=2048
AI_TEMPERATURE=0.7
AI_TOP_P=0.9

# IMPORTANT: To use local AI stack:
# 1. Start Ollama: docker-compose up -d ollama
# 2. Pull GPT-OSS model: docker exec lm-ollama ollama pull gpt-oss:120b
# 3. (Optional) Set up Whisper service on port 8002
# 4. (Optional) Set up Embedding service on port 8001
# 
# The system will work with just Ollama + GPT-OSS!
# Whisper/Embeddings will use placeholder data if services aren't running.

# =============================================================================
# CONTENT MODERATION
# =============================================================================
MODERATION_ENABLED=true
MODERATION_CONFIDENCE_THRESHOLD=0.85
PROFANITY_FILTER_ENABLED=true

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================
STORAGE_BUCKET_VIDEOS=videos
STORAGE_BUCKET_THUMBNAILS=thumbnails
STORAGE_BUCKET_AUDIO=audio
LOCAL_STORAGE_PATH=./storage
MAX_FILE_SIZE_MB=100

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
EMAIL_FROM=noreply@littlemonster.com

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_VIDEO_GENERATION_DAILY=5
RATE_LIMIT_COMMENTS_PER_HOUR=20

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ORIGIN=http://localhost:5173,http://localhost:3000
CORS_CREDENTIALS=true

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=debug
LOG_FORMAT=json
LOG_FILE_PATH=./logs/app.log

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_VIDEO_GENERATION=true
ENABLE_AUDIO_TRANSCRIPTION=true
ENABLE_REALTIME_COLLABORATION=true
